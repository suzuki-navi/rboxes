# ll

Enhanced directory listing and file viewing utility

## 概要

ディレクトリリストの表示とファイル内容の閲覧を統合したツールです。ディレクトリの場合は詳細なファイル一覧を、ファイルの場合は内容を表示し、出力をページングして見やすく表示します。

## RBoxes固有の特徴

- **統合表示**: ディレクトリとファイルを同じコマンドで処理
- **自動ページング**: 長い出力は自動的に`less`でページング表示
- **一貫したフォーマット**: ISO形式の日時表示（YYYY-MM-DD HH:MM:SS）
- **カラー出力**: ファイルタイプに応じた色分け表示
- **複数パス対応**: 複数のパス指定時は区切り線で分離表示
- **UTF-8対応**: 日本語ファイル名の適切な表示

## 使用方法

```bash
# 標準的な使用
ll [options] [PATH...]
```

### オプション

- `--help` - ヘルプメッセージを表示

### 引数

- `[PATH...]` - 表示する1つ以上のファイルまたはディレクトリ。省略時は現在のディレクトリを表示

## 動作仕様

### ディレクトリの場合
```bash
ll /path/to/directory
# 実行される内容: ls -alF --color --time-style="+%Y-%m-%d %H:%M:%S"
```

### ファイルの場合
```bash
ll file.txt
# 実行される内容: cat file.txt
```

### 複数パス指定の場合
```bash
ll dir1/ file1.txt dir2/
# 各パスごとに区切り線を表示して内容を出力
```

## 出力例

### 単一ディレクトリの表示
```
$ ll src/
total 48
drwxr-xr-x  3 user user  4096 2024-01-15 14:30 ./
drwxr-xr-x 25 user user  4096 2024-01-15 14:25 ../
-rw-r--r--  1 user user  1543 2024-01-15 14:30 main.py
-rwxr-xr-x  1 user user  8192 2024-01-15 14:30 script.sh*
drwxr-xr-x  2 user user  4096 2024-01-15 14:30 utils/
```

### 複数パス指定時の表示
```
$ ll README.md src/
####################################################################################################
# README.md
####################################################################################################
# My Project

This is a sample project...

####################################################################################################
# src/
####################################################################################################
total 16
drwxr-xr-x  2 user user 4096 2024-01-15 14:30 ./
drwxr-xr-x 25 user user 4096 2024-01-15 14:25 ../
-rw-r--r--  1 user user 1543 2024-01-15 14:30 main.py
```

## 技術仕様

- **実行環境**: 直接実行（非Docker）
- **ロケール設定**: `LANG=en_US.UTF-8`、`LESSCHARSET=UTF-8`
- **ページング**: `less -XFR`
- **日時形式**: ISO形式（YYYY-MM-DD HH:MM:SS）
- **依存関係**: ls、cat、less（標準的なUnixツール）

## less コマンドのオプション

- `-X`: 終了時に画面をクリアしない
- `-F`: 内容が1画面に収まる場合は即座に終了
- `-R`: ANSIカラーエスケープシーケンスを適切に表示

## 注意事項

- 大きなファイルを表示する場合、メモリ使用量に注意してください
- バイナリファイルを指定すると制御文字が表示される場合があります
- 権限のないファイル・ディレクトリの場合はエラーメッセージを表示

## デバッグ

```bash
# パスの存在確認
ll /nonexistent/path  # エラーメッセージを表示

# 権限の確認
ll /root/  # アクセス権限に応じて表示またはエラー
```

## 類似コマンドとの比較

| 操作対象 | ll | ls -la | cat |
|---------|-----|--------|-----|
| ディレクトリ | 詳細表示 + ページング | 詳細表示のみ | エラー |
| ファイル | ファイル内容 + ページング | ファイル情報のみ | ファイル内容のみ |
| 複数パス | 統合表示 | 個別実行が必要 | 結合表示 |

## 今後のTODO

以下の機能改善を検討しています：

- **バイナリファイルの扱いの改善**: 現在はcatで直接表示されるため、バイナリファイルの適切な検出と表示方法の検討
- **UTF-8以外のエンコーディング対応**: 現在はUTF-8固定のため、他の文字エンコーディングファイルへの対応
- **シンタックスハイライト機能**: ファイル拡張子に基づく構文ハイライト表示の導入
